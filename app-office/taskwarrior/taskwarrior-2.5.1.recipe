SUMMARY="feature-rich console based todo list manager"
DESCRIPTION="Taskwarrior is a sophisticated command line todo list and task manager with a lot of features: \
  * colorful tabbed output \
  * feature rich search function \
  * tags \
  * statistics \
  * Getting Things Done compatible \
  * interactive editing of items in text editor"
HOMEPAGE="https://taskwarrior.org"
COPYRIGHT="2006 - 2016, Paul Beckingham, Federico Hernandez"
LICENSE="MIT"
REVISION="1"
SOURCE_URI="https://taskwarrior.org/download/task-$portVersion.tar.gz"
SOURCE_DIR="task-2.5.1"
CHECKSUM_SHA256="d87bcee58106eb8a79b850e9abc153d98b79e00d50eade0d63917154984f2a15"

#PATCHES="taskwarrior-$portVersion.patchset"

ARCHITECTURES="x86 x86_64"

PROVIDES="
	cmd:task = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libuuid
	"


BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	libuuid_devel
	"
BUILD_PREREQUIRES="
	cmd:cmake
	cmd:make
	cmd:gcc$secondaryArchSuffix
	"

BUILD()
{
	cmake -DCMAKE_BUILD_TYPE=release -DENABLE_SYNC=OFF  .
	#runConfigure ./configure
	make $jobArgs
}

INSTALL()
{
	make install

	if [ -z "$secondaryArchSuffix" ]; then
		maybe_infoDir=$infoDir
		maybe_manDir=$manDir
	else
		maybe_infoDir=
		maybe_manDir=
		rm -rf $documentationDir
	fi

	packageEntries devel \
		$developDir \
		$binDir \
		$dataDir \
		$maybe_infoDir \
		$maybe_manDir
}

TEST()
{
	make check
}
